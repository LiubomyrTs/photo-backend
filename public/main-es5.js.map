{"version":3,"mappings":"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","names":["e","webpackEmptyAsyncContext","module","routes","path","loadChildren","__webpack_require__","then","m","AdminModule","canActivate","src_app_auth_admin_guard__WEBPACK_IMPORTED_MODULE_0__","data","layout","src_app_core_enums_layout_enum__WEBPACK_IMPORTED_MODULE_1__","_admin_routes__WEBPACK_IMPORTED_MODULE_1__","_main_routes__WEBPACK_IMPORTED_MODULE_0__","_blog_routes__WEBPACK_IMPORTED_MODULE_2__","AppRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_4__","relativeLinkResolution","imports","exports","_angular_core__WEBPACK_IMPORTED_MODULE_4__","AppComponent","router","src_app_core_enums_layout_enum__WEBPACK_IMPORTED_MODULE_0__","events","pipe","event","_angular_router__WEBPACK_IMPORTED_MODULE_6__","subscribe","routerSnapshot","state","root","firstChild","console","log","selectors","decls","vars","consts","template","AppModule","bootstrap","_app_component__WEBPACK_IMPORTED_MODULE_1__","src_app_auth_auth_service__WEBPACK_IMPORTED_MODULE_7__","provide","_angular_core__WEBPACK_IMPORTED_MODULE_12__","useClass","src_app_shared_handlers_global_error_handler__WEBPACK_IMPORTED_MODULE_9__","deps","src_app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_10__","_angular_common_http__WEBPACK_IMPORTED_MODULE_13__","src_app_core_interceptors_domain_interceptor__WEBPACK_IMPORTED_MODULE_8__","multi","src_app_core_interceptors_auth_interceptor__WEBPACK_IMPORTED_MODULE_11__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_6__","_app_routing_module__WEBPACK_IMPORTED_MODULE_0__","src_app_blog_blog_module__WEBPACK_IMPORTED_MODULE_5__","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_14__","_angular_forms__WEBPACK_IMPORTED_MODULE_15__","src_app_main_main_module__WEBPACK_IMPORTED_MODULE_4__","_tinymce_tinymce_angular__WEBPACK_IMPORTED_MODULE_16__","declarations","_core_header_header_component__WEBPACK_IMPORTED_MODULE_2__","src_app_core_footer_footer_component__WEBPACK_IMPORTED_MODULE_3__","AdminGuard","authService","route","isUserInRole","src_app_auth_user_roles_enum__WEBPACK_IMPORTED_MODULE_0__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","factory","providedIn","AuthService","http","rxjs__WEBPACK_IMPORTED_MODULE_1__","isLoggedIn","loadToken","role","user","JSON","parse","localStorage","getItem","post","res","storeUserData","token","removeItem","authToken","navigate","loggedInSubject","next","setItem","stringify","headers","_angular_common_http__WEBPACK_IMPORTED_MODULE_3__","append","get","USER_ROLES","BlogGridComponent","blogService","getAll","blogs","id","inputs","title","mainPage","num","obj","BlogViewComponent","activatedRoute","snapshot","params","getById","blog","BlogModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","src_app_shared_shared_module__WEBPACK_IMPORTED_MODULE_1__","src_app_blog_blog_grid_blog_grid_component__WEBPACK_IMPORTED_MODULE_0__","_blog_view_blog_view_component__WEBPACK_IMPORTED_MODULE_2__","component","src_app_blog_blog_grid_blog_grid_component__WEBPACK_IMPORTED_MODULE_1__","src_app_blog_blog_view_blog_view_component__WEBPACK_IMPORTED_MODULE_2__","BlogService","formData","_angular_core__WEBPACK_IMPORTED_MODULE_0__","LAYOUT","FooterComponent","_angular_core__WEBPACK_IMPORTED_MODULE_1__","HeaderComponent","dashboardUrl","logout","_r1","AuthInterceptor","auhtService","request","domainRequest","clone","set","handle","DomainInterceptor","url","startsWith","src_environments_environment__WEBPACK_IMPORTED_MODULE_0__","DashboardComponent","profile","LoginComponent","alertService","formBuilder","form","group","username","password","valid","value","authenticateUser","response","showAlert","src_app_shared_enums_alert_types_enum__WEBPACK_IMPORTED_MODULE_0__","ctx","MainGridComponent","name","surname","_angular_core__WEBPACK_IMPORTED_MODULE_3__","MainInfoCardComponent","MainModule","src_app_blog_blog_module__WEBPACK_IMPORTED_MODULE_0__","_angular_common__WEBPACK_IMPORTED_MODULE_8__","_angular_forms__WEBPACK_IMPORTED_MODULE_9__","_angular_router__WEBPACK_IMPORTED_MODULE_10__","src_app_main_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_1__","src_app_main_login_login_component__WEBPACK_IMPORTED_MODULE_2__","src_app_main_main_grid_main_grid_component__WEBPACK_IMPORTED_MODULE_3__","_main_info_card_main_info_card_component__WEBPACK_IMPORTED_MODULE_4__","src_app_main_registration_registration_component__WEBPACK_IMPORTED_MODULE_5__","RegistrationComponent","alertsService","email","confirm_password","validator","confirmPasswordValidator","formGroup","isPasswordMatching","confirmPassword","invalid","registerUser","src_app_main_main_grid_main_grid_component__WEBPACK_IMPORTED_MODULE_0__","src_app_core_enums_layout_enum__WEBPACK_IMPORTED_MODULE_4__","src_app_main_registration_registration_component__WEBPACK_IMPORTED_MODULE_1__","src_app_main_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_3__","AlertsListComponent","changeDetector","Map","alerts","alert","key","Date","getTime","detectChanges","handleClose","bind","FileUploadComponent","elementRef","fileUploadId","lodash__WEBPACK_IMPORTED_MODULE_0__","preventDefault","stopPropagation","dragOverCounter","handleFileDrop","dataTransfer","files","nativeElement","hasAttribute","length","fileMaximumNumber","fileUploadError","errorFileNumberMessage","i","file","item","size","maxSize","errorFileSizeMessage","allowedExtensions","every","toLowerCase","endsWith","errorFileExtensionMessage","multiple","concat","Array","from","emitFilesChanged","index","setTimeout","fileUpload","splice","onChange","fn","isArray","viewQuery","_angular_forms__WEBPACK_IMPORTED_MODULE_2__","useExisting","ERROR_MESSAGES_MAP","app_integer","app_whitespace","fileextension","filesize","format","hijridate","max","maxlength","min","minlength","pattern","required","FormControlErrorsComponent","ngForm","controlName","subscriptions","ngSubmit","buildErrors","formControl","statusChanges","forEach","s","unsubscribe","errors","dirty","touched","submitted","Object","keys","error","replace","requiredLength","customMessageKeys","GeneratedContentComponent","content","ServerSrcDirective","el","src","ALERT_TYPES","GlobalErrorHandler","messages","getErrorMessages","message","_a","msg","SafeHtmlPipe","sanitized","bypassSecurityTrustHtml","pure","AlertService","rxjs__WEBPACK_IMPORTED_MODULE_0__","type","text","SharedModule","_angular_common__WEBPACK_IMPORTED_MODULE_7__","_angular_router__WEBPACK_IMPORTED_MODULE_8__","src_app_shared_components_alerts_list_alerts_list_component__WEBPACK_IMPORTED_MODULE_1__","src_app_shared_components_form_control_errors_form_control_errors_component__WEBPACK_IMPORTED_MODULE_2__","src_app_shared_components_generated_content_generated_content_component__WEBPACK_IMPORTED_MODULE_3__","src_app_shared_pipes_safe_html_safe_html_pipe__WEBPACK_IMPORTED_MODULE_0__","src_app_shared_components_file_upload_file_upload_component__WEBPACK_IMPORTED_MODULE_4__","src_app_shared_directives_server_src_directive__WEBPACK_IMPORTED_MODULE_5__","environment","serverUrl","production","_environments_environment__WEBPACK_IMPORTED_MODULE_1__","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__","bootstrapModule","_app_app_module__WEBPACK_IMPORTED_MODULE_0__","err"],"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions:%20%7B%7D|namespace%20object","webpack:///src/app/admin/routes.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/auth/admin.guard.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/auth/user-roles.enum.ts","webpack:///src/app/blog/blog-grid/blog-grid.component.html","webpack:///src/app/blog/blog-grid/blog-grid.component.ts","webpack:///src/app/blog/blog-view/blog-view.component.ts","webpack:///src/app/blog/blog-view/blog-view.component.html","webpack:///src/app/blog/blog.module.ts","webpack:///src/app/blog/routes.ts","webpack:///src/app/blog/services/blog.service.ts","webpack:///src/app/core/enums/layout.enum.ts","webpack:///src/app/core/footer/footer.component.ts","webpack:///src/app/core/footer/footer.component.html","webpack:///src/app/core/header/header.component.html","webpack:///src/app/core/header/header.component.ts","webpack:///src/app/core/interceptors/auth.interceptor.ts","webpack:///src/app/core/interceptors/domain.interceptor.ts","webpack:///src/app/main/dashboard/dashboard.component.ts","webpack:///src/app/main/dashboard/dashboard.component.html","webpack:///src/app/main/login/login.component.ts","webpack:///src/app/main/login/login.component.html","webpack:///src/app/main/main-grid/main-grid.component.ts","webpack:///src/app/main/main-grid/main-grid.component.html","webpack:///src/app/main/main-info-card/main-info-card.component.ts","webpack:///src/app/main/main-info-card/main-info-card.component.html","webpack:///src/app/main/main.module.ts","webpack:///src/app/main/registration/registration.component.html","webpack:///src/app/main/registration/registration.component.ts","webpack:///src/app/main/routes.ts","webpack:///src/app/shared/components/alerts-list/alerts-list.component.html","webpack:///src/app/shared/components/alerts-list/alerts-list.component.ts","webpack:///src/app/shared/components/file-upload/file-upload.component.html","webpack:///src/app/shared/components/file-upload/file-upload.component.ts","webpack:///src/app/shared/components/form-control-errors/form-control-errors.component.html","webpack:///src/app/shared/components/form-control-errors/form-control-errors.component.ts","webpack:///src/app/shared/components/generated-content/generated-content.component.ts","webpack:///src/app/shared/components/generated-content/generated-content.component.html","webpack:///src/app/shared/directives/server-src.directive.ts","webpack:///src/app/shared/enums/alert-types.enum.ts","webpack:///src/app/shared/handlers/global-error.handler.ts","webpack:///src/app/shared/pipes/safe-html/safe-html.pipe.ts","webpack:///src/app/shared/services/alert.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Routes } from '@angular/router';\nimport { AdminGuard } from 'src/app/auth/admin.guard';\nimport { LAYOUT } from 'src/app/core/enums/layout.enum';\n\nexport const routes: Routes = [\n  {\n    path: 'admin',\n    loadChildren: () => import('src/app/admin/admin.module').then(m => m.AdminModule),\n    canActivate: [AdminGuard],\n    data: {\n      layout: LAYOUT.ADMIM\n    }\n  }\n];","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { routes as mainRoutes } from './main/routes';\nimport { routes as adminRoutes } from './admin/routes';\nimport { routes as blogRoutes } from './blog/routes';\n\nconst routes: Routes = [\n  ...adminRoutes,\n  ...mainRoutes,\n  ...blogRoutes,\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","<div class=\"application-container\">\n  <app-alerts-list></app-alerts-list>\n  <app-header *ngIf=\"layout === LAYOUT.MAIN\"></app-header>\n  <div class=\"content\">\n    <div class=\"width-container\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n  <app-footer *ngIf=\"layout === LAYOUT.MAIN\"></app-footer>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router, RoutesRecognized } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { LAYOUT } from 'src/app/core/enums/layout.enum';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'photo';\n  layout = LAYOUT.MAIN;\n  LAYOUT = LAYOUT;\n\n  constructor(\n    private router: Router,\n  ) {}\n\n  ngOnInit() {\n    this.router.events\n      .pipe(\n        filter((event) => event instanceof RoutesRecognized)\n      ).subscribe((event: RoutesRecognized) => {\n        let routerSnapshot = event.state.root.firstChild;\n        const data = routerSnapshot.data;\n        if (data.layout) {\n          this.layout = data.layout;\n        } else {\n          this.layout = LAYOUT.MAIN;\n        }\n        console.log(this.layout);\n      });\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { HeaderComponent } from './core/header/header.component';\nimport { FooterComponent } from 'src/app/core/footer/footer.component';\nimport { MainModule } from 'src/app/main/main.module';\nimport { BlogModule } from 'src/app/blog/blog.module';\nimport { FormsModule } from '@angular/forms';\nimport { EditorModule } from '@tinymce/tinymce-angular';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { DomainInterceptor } from 'src/app/core/interceptors/domain.interceptor';\nimport { GlobalErrorHandler } from 'src/app/shared/handlers/global-error.handler';\nimport { AlertService } from 'src/app/shared/services/alert.service';\nimport { AuthInterceptor } from 'src/app/core/interceptors/auth.interceptor';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    FooterComponent,\n  ],\n  imports: [\n    SharedModule,\n    AppRoutingModule,\n    BlogModule,\n    BrowserModule,\n    FormsModule,\n    MainModule,\n    HttpClientModule,\n    EditorModule,\n  ],\n  providers: [\n    AuthService,\n    { provide: ErrorHandler, useClass: GlobalErrorHandler, deps: [AlertService] },\n    { provide: HTTP_INTERCEPTORS, useClass: DomainInterceptor, multi: true },\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true },\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { USER_ROLES } from 'src/app/auth/user-roles.enum';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminGuard implements CanActivate {\n  constructor(\n    private authService: AuthService,\n    protected router: Router,\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    return this.authService.isUserInRole(USER_ROLES.ADMIN);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { tap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { USER_ROLES } from 'src/app/auth/user-roles.enum';\nimport { BehaviorSubject } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class AuthService {\n  authToken: any;\n  user: any;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n  ) {\n    this.loadToken();\n  }\n\n  loggedInSubject = new BehaviorSubject<boolean>(this.isLoggedIn());\n\n  get dashboardUrl() {\n    return this.isUserInRole(USER_ROLES.ADMIN) ? ['/admin'] : ['/dashboard'];\n  }\n\n  isUserInRole(role: USER_ROLES) {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      return user.role === role;\n    }\n\n    return false;\n  }\n\n  isLoggedIn() {\n    if (localStorage.getItem('user')) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  authenticateUser(user) {\n    return this.http.post('users/authenticate', user)\n      .pipe(\n        tap((res: any) => {\n          this.storeUserData(res.token, res.user)\n        })\n      );\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n    localStorage.removeItem('id_token');\n    this.authToken = null;\n    this.user = null;\n    this.router.navigate(['/']);\n    this.loggedInSubject.next(false);\n  }\n\n  private loadToken() {\n    const token = localStorage.getItem('id_token') || null;\n    this.authToken = token;\n  }\n\n  storeUserData(token, user) {\n    localStorage.setItem('id_token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    this.authToken = token;\n    this.user = user;\n  }\n\n  registerUser(user) {\n    return this.http.post('users/register', user);\n  }\n\n  profile() {\n    let headers = new HttpHeaders();\n    headers = headers.append('Authorization', this.authToken);\n    return this.http.get('users/profile', { headers });\n  }\n}\n","export enum USER_ROLES {\n  ADMIN = 'ADMIN',\n  CUSTOMER = 'CUSTOMER'\n}\n","<h1 *ngIf=\"!mainPage\">Блог</h1>\n<div class=\"row my-4\">\n  <div class=\"blog-card col-sm-4\" *ngFor=\"let blog of blogs\" (click)=\"handleCardClick(blog._id)\">\n    <div>\n      <img [appServerSrc]=\"blog.cover\" alt=\"\" style=\"width: 100%;\">\n      <span>{{ blog.created_at | date: 'shortDate' }}</span>\n      <h2 class=\"blog-title\">{{ blog.title }}</h2>\n      <p class=\"blog-description\">{{ blog.subtitle }}</p>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, OnChanges, DoCheck, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Blog } from 'src/app/blog/interfaces/blog.interface';\nimport { BlogService } from 'src/app/blog/services/blog.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-blog-grid',\n  templateUrl: './blog-grid.component.html',\n})\nexport class BlogGridComponent implements OnInit {\n  @Input() title = '';\n  @Input() mainPage = false;\n  @Input() num: number;\n  @Input() obj: any;\n\n  blogs: Blog[] = [];\n  constructor(\n    private router: Router,\n    private blogService: BlogService,\n  ) { }\n\n  ngOnInit(): void {\n    this.blogService.getAll()\n      .subscribe((blogs: Blog[]) => {\n        this.blogs = blogs;\n      });\n  }\n\n  handleCardClick(id) {\n    this.router.navigate(['blog', id]);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BlogService } from 'src/app/blog/services/blog.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Blog } from 'src/app/blog/interfaces/blog.interface';\n\n@Component({\n  selector: 'app-blog-view',\n  templateUrl: './blog-view.component.html',\n  styleUrls: ['./blog-view.component.scss']\n})\nexport class BlogViewComponent implements OnInit {\n  blog: Blog;\n\n  constructor(\n    private blogService: BlogService,\n    private activatedRoute: ActivatedRoute,\n  ) { }\n\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.params.id;\n    this.blogService.getById(id).subscribe((blog: Blog) => this.blog = blog);\n  }\n}\n","<p>blog-view works!</p>\n<h1>{{ blog?.title }}</h1>\n<div [innerHTML]=\"blog?.content | safeHtml\"></div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BlogGridComponent } from 'src/app/blog/blog-grid/blog-grid.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { BlogViewComponent } from './blog-view/blog-view.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  declarations: [\n    BlogGridComponent,\n    BlogViewComponent,\n  ],\n  entryComponents: [\n  ],\n  exports: [\n    BlogGridComponent\n  ],\n  providers: [\n  ]\n})\nexport class BlogModule {}\n","import { Routes } from '@angular/router';\n\nimport { LAYOUT } from 'src/app/core/enums/layout.enum';\nimport { BlogGridComponent } from 'src/app/blog/blog-grid/blog-grid.component';\nimport { BlogViewComponent } from 'src/app/blog/blog-view/blog-view.component';\n\nexport const routes: Routes = [\n  {\n    path: 'blog',\n    component: BlogGridComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  },\n  {\n    path: 'blog/:id',\n    component: BlogViewComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  }\n];","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class  BlogService {\n  constructor(\n    private http: HttpClient\n  ) {}\n\n  getById(id: string) {\n    return this.http.get(`blogs/${id}`)\n  }\n\n  getAll() {\n    return this.http.get('blogs');\n  }\n\n  save(formData: FormData) {\n    return this.http.post('blogs', formData);\n  }\n\n  delete(id:string) {\n    return this.http.delete(`blogs/${id}`);\n  }\n}","export enum LAYOUT {\n  MAIN = 'MAIN',\n  ADMIM = 'ADMIN'\n};\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<footer class=\"footer\">\n  <div class=\"width-container row align-items-center justify-content-between\">\n    <div class=\"logo col-md-2\">\n      <a routerLink=\"/\" class=\"router-link\">\n        <img src=\"assets/images/logo.svg\" alt=\"logo\">\n      </a>\n    </div>\n    <div class=\"d-flex flex-column align-items-center col-auto\">\n      <a class=\"link-default\" href=\"mailto:Dykyi.oleksandr.if@gmail.com\"><i style=\"font-size: 14px;\" class=\"fa fa-envelope mr-2\"></i>Dykyi.oleksandr.if@gmail.com</a>\n      <a class=\"link-default\" href=\"#\"><i class=\"fa fa-phone mr-2\"></i>+38099999999</a>\n      <span class=\"text-white\"><i class=\"fa fa-map-marker mr-2\"></i>м. Івано-Франківськ</span>\n    </div>\n    <!-- <div class=\"copyright-section col-md-4\">\n      <div class=\"copyright footer-contacts-item\"><i class=\"fa fa-copyright\"></i> 2019 DOitPhoto</div>\n    </div> -->\n    <div class=\"col-auto row justify-content-center\">\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-instagram\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-facebook\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-youtube\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-telegram\"></i></a>\n      </div>\n    </div>\n  </div>\n</footer>","<header class=\"header\">\n  <div class=\"width-container row align-items-center justify-content-between\">\n    <div class=\"logo col-auto\">\n      <a routerLink=\"/\" class=\"router-link\">\n        <img src=\"assets/images/logo.svg\" alt=\"logo\">\n      </a>\n    </div>\n    <div class=\"navigation-list col-auto\">\n      <div class=\"navigation-link\">\n        <a class=\"link-default\" href=\"#\">Головна</a>\n      </div>\n      <div class=\"navigation-link nav-dropdown-menu\">\n        <a class=\"link-default\" href=\"#\">Послуги</a>\n        <ul class=\"nav-sub-list\">\n          <li><a class=\"link-default\" href=\"#\">Весільна фотосесія</a></li>\n          <li><a class=\"link-default\" href=\"#\">Сімейна фотозйомка</a></li>\n          <li><a class=\"link-default\" href=\"#\">Фотосесія LoveStory</a></li>\n          <li><a class=\"link-default\" href=\"#\">Фотокниги</a></li>\n        </ul>\n      </div>\n      <div class=\"navigation-link\">\n        <a class=\"link-default\" href=\"#\">Портфоліо</a>\n      </div>\n      <div class=\"navigation-link\">\n        <a class=\"link-default\" href=\"#\">Відгуки</a>\n      </div>\n      <div class=\"navigation-link\">\n        <a [routerLink]=\"['/blog']\" class=\"link-default\" href=\"#\">Блог</a>\n      </div>\n      <div class=\"navigation-link\">\n        <a class=\"link-default\" href=\"#\">Контакти</a>\n      </div>\n    </div>\n    <!-- <div class=\"col-auto row justify-content-center\">\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-instagram\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-facebook\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-youtube\"></i></a>\n      </div>\n      <div class=\"social-link\">\n        <a href=\"#\" class=\"link-default\"><i class=\"fa fa-telegram\"></i></a>\n      </div>\n    </div> -->\n    <div class=\"col-auto row justify-content-end\" *ngIf=\"!isLoggedIn; else dashboardLink\">\n      <div class=\"navigation-link border-right\">\n        <a class=\"link-default\" [routerLink]=\"['/registration']\">Зареєструватись</a>\n      </div>\n      <div class=\"navigation-link\">\n        <a class=\"link-default\" [routerLink]=\"['/login']\">Увійти</a>\n      </div>\n    </div>\n    <ng-template #dashboardLink>\n      <div class=\"col-auto row justify-content-end\">\n        <div class=\"navigation-link border-right\">\n          <a class=\"link-default\" [routerLink]=\"dashboardUrl\">Кабінет</a>\n        </div>\n        <div class=\"navigation-link\">\n          <a href=\"javascript:void(0)\" class=\"link-default\" (click)=\"logout()\">Вийти</a>\n        </div>\n      </div>\n    </ng-template>\n    \n  </div>\n</header>","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n  isLoggedIn: boolean;\n  dashboardUrl: string[];\n\n  constructor(\n    private authService: AuthService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.loggedInSubject.subscribe((isLoggedIn) => this.isLoggedIn = isLoggedIn);\n    this.dashboardUrl = this.authService.dashboardUrl;\n  }\n\n  logout() {\n    this.authService.logout();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { AuthService } from 'src/app/auth/auth.service';\n\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n  constructor(\n    private auhtService: AuthService\n  ) {\n\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler) {\n\n    if (this.auhtService.authToken) {\n      const domainRequest = request.clone({\n        headers: request.headers.set(\n          'Authorization', this.auhtService.authToken\n        )\n      });\n      return next.handle(domainRequest);\n    } else {\n      return next.handle(request);\n    }\n    \n    // send cloned request with header to the next handler.\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\n\n\n@Injectable()\nexport class DomainInterceptor implements HttpInterceptor {\n  intercept(request: HttpRequest<any>, next: HttpHandler) {\n    if (request.url.startsWith('http://') || request.url.startsWith('https://')) {\n      return next.handle(request);\n    }\n\n    const domainRequest = request.clone({\n      url: environment.serverUrl + request.url\n    });\n    \n    // send cloned request with header to the next handler.\n    return next.handle(domainRequest);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/auth/auth.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  user: any;\n  constructor(\n    private authService: AuthService,\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.profile()\n      .subscribe((profile: any) => {\n        this.user = profile.user;\n      })\n  }\n}\n","<h1>\n  {{user?.name}} вітаємо в системі\n</h1>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { AlertService } from 'src/app/shared/services/alert.service';\nimport { AuthService } from 'src/app/auth/auth.service';\n\nimport { ALERT_TYPES } from 'src/app/shared/enums/alert-types.enum';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  form: FormGroup;\n\n  constructor(\n    private alertService: AlertService,\n    private authService: AuthService,\n    private formBuilder: FormBuilder,\n    private router: Router\n  ) {\n    this.form = this.formBuilder.group({\n      username: '',\n      password: ''\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n  handleSubmit() {\n    if (!this.form.valid) {\n      return;\n    }\n\n    const user = this.form.value;\n    this.authService.authenticateUser(user)\n      .subscribe((response: {success: boolean, user: any, token: string}) => {\n        this.alertService.showAlert(ALERT_TYPES.SUCCESS, 'Ви успішно увійшли в систему');\n        this.authService.loggedInSubject.next(true);\n        this.router.navigate(this.authService.dashboardUrl);\n      })\n  }\n}\n","<div class=\"form-container my-4\">\n  <h1>Увійти</h1>\n  <form #ngForm=\"ngForm\" (submit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"username\">Логін</label>\n      <input\n        required\n        class=\"form-control\"\n        type=\"text\"\n        id=\"username\"\n        formControlName=\"username\"\n        placeholder=\"Логін\"\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"username\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"password\">Пароль</label>\n      <input\n        required\n        class=\"form-control\"\n        type=\"password\"\n        id=\"password\"\n        formControlName=\"password\"\n        placeholder=\"Пароль\"\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"password\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"button-group\">\n      <button type=\"submit\" class=\"app-btn app-submit-btn\">Увійти</button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main-grid',\n  templateUrl: './main-grid.component.html',\n  styleUrls: ['./main-grid.component.scss'],\n})\nexport class MainGridComponent implements OnInit {\n  content = '';\n  title = 'Блог';\n  num = 1;\n  obj = {\n    name: '123',\n    surname: '321'\n  }\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n}\n","<div class=\"text-overlay\">\n  <img src=\"assets/images/1.jpg\">\n  <h1 class=\"text-overlay-title\">Lorem, ipsum dolor.</h1>\n</div>\n <app-main-info-card></app-main-info-card>\n <app-blog-grid [mainPage]=\"true\"></app-blog-grid>\n <app-generated-content [content]=\"content\"></app-generated-content>\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main-info-card',\n  templateUrl: './main-info-card.component.html',\n})\nexport class MainInfoCardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"info-card\">\n  <div class=\"row\">\n    <div class=\"col-sm-7 info-card-section\">\n      <h2 class=\"info-card-title\">\n        Lorem, ipsum.\n      </h2>\n      <p class=\"info-card-text\">\n        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Esse sed tempora animi enim ducimus. Assumenda iste iusto dolore quo, nemo modi a. Odit aliquid recusandae accusamus ullam, ipsum nihil, expedita quidem dolor totam quo commodi excepturi officia tempora quam perferendis.\n      </p>\n      <a href=\"#\" class=\"link-black info-card-link\">\n        Контакти\n      </a>\n    </div>\n    <div class=\"col-sm-5 info-card-section info-card-section__bg shadowed\">\n      <div class=\"info-card-photos\">\n        <img src=\"assets/images/1.jpg\" alt=\"\">\n        <img src=\"assets/images/1.jpg\" alt=\"\">\n      </div>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { BlogModule } from 'src/app/blog/blog.module';\nimport { DashboardComponent } from 'src/app/main/dashboard/dashboard.component';\nimport { LoginComponent } from 'src/app/main/login/login.component';\nimport { MainGridComponent } from 'src/app/main/main-grid/main-grid.component';\nimport { MainInfoCardComponent } from './main-info-card/main-info-card.component';\nimport { RegistrationComponent } from 'src/app/main/registration/registration.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    BlogModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    SharedModule,\n  ],\n  declarations: [\n    DashboardComponent,\n    LoginComponent,\n    MainGridComponent,\n    MainInfoCardComponent,\n    RegistrationComponent,\n  ],\n  entryComponents: [\n  ],\n  exports: [\n  ],\n  providers: [\n  ]\n})\nexport class MainModule {}\n","<div class=\"form-container my-4\">\n  <h1>Реєстрація</h1>\n  <form #ngForm=\"ngForm\" (submit)=\"handleSubmit()\" [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"name\">Ім'я</label>\n      <input\n        class=\"form-control\"\n        type=\"text\"\n        id=\"name\"\n        formControlName=\"name\"\n        placeholder=\"Імя\"\n        required\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"name\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\">email</label>\n      <input\n        required\n        email\n        class=\"form-control\"\n        type=\"email\"\n        id=\"email\"\n        formControlName=\"email\"\n        placeholder=\"email\"\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"email\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"username\">Логін</label>\n      <input\n        required\n        class=\"form-control\"\n        type=\"text\"\n        id=\"username\"\n        formControlName=\"username\"\n        placeholder=\"Логін\"\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"username\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"password\">Пароль</label>\n      <input\n        required\n        class=\"form-control\"\n        type=\"password\"\n        id=\"password\"\n        formControlName=\"password\"\n        placeholder=\"Пароль\"\n        minlength=\"2\"\n        maxlength=\"30\"\n      >\n      <app-form-control-errors controlName=\"password\" [ngForm]=\"ngForm\"></app-form-control-errors>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"confirm_password\">Підтвердіть пароль</label>\n      <input\n        required\n        class=\"form-control\"\n        type=\"password\"\n        id=\"confirm_password\"\n        formControlName=\"confirm_password\"\n        placeholder=\"Підтвердіть пароль\"\n      >\n      <app-form-control-errors controlName=\"confirm_password\" [ngForm]=\"ngForm\"></app-form-control-errors>\n      <small\n        *ngIf=\"form.errors && form.errors.confirmPassword && ngForm.submitted\"\n        class=\"form-text text-danger\"\n        translate\n      >Паролі не співпадають</small>\n    </div>\n    <div class=\"button-group\">\n      <button type=\"submit\" class=\"app-btn app-submit-btn\">Зареєструватись</button>\n      <a [routerLink]=\"['/login']\" class=\"app-btn\">Увійти</a>\n    </div>\n  </form>\n</div>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, ValidatorFn, ValidationErrors, FormGroup } from '@angular/forms';\n\nimport { AlertService } from 'src/app/shared/services/alert.service';\nimport { ALERT_TYPES } from 'src/app/shared/enums/alert-types.enum';\nimport { AuthService } from 'src/app/auth/auth.service';\n\n@Component({\n  selector: 'app-registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.scss'],\n})\nexport class RegistrationComponent {\n  form: FormGroup;\n\n  constructor(\n    private alertsService: AlertService,\n    private authService: AuthService,\n    private formBuilder: FormBuilder,\n    private router: Router\n  ) {\n    this.form = this.formBuilder.group({\n      name: '',\n      email: '',\n      username: '',\n      password: '',\n      confirm_password: '',\n    }, { validator: this.confirmPasswordValidator() });\n  }\n\n  confirmPasswordValidator(): ValidatorFn {\n    return (formGroup: FormGroup): ValidationErrors | null => {\n      const isPasswordMatching = formGroup.get('confirm_password').value === formGroup.get('password').value;\n      return !isPasswordMatching ? { confirmPassword: true } : null;\n    }\n  }\n\n  handleSubmit() {\n    if (this.form.invalid) {\n      return;\n    }\n\n    const user = this.form.value;\n    delete user.confirm_password;\n    this.authService.registerUser(this.form.value)\n      .subscribe(() => {\n        this.alertsService.showAlert(ALERT_TYPES.SUCCESS, 'Вас успішно зареєстровано!');\n        this.router.navigate(['/login']);\n      });\n  }\n}\n","import { Routes } from '@angular/router';\nimport { MainGridComponent } from 'src/app/main/main-grid/main-grid.component';\nimport { RegistrationComponent } from 'src/app/main/registration/registration.component';\nimport { LoginComponent } from 'src/app/main/login/login.component';\nimport { DashboardComponent } from 'src/app/main/dashboard/dashboard.component';\nimport { LAYOUT } from 'src/app/core/enums/layout.enum';\nimport { BlogGridComponent } from 'src/app/blog/blog-grid/blog-grid.component';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: MainGridComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  },\n  {\n    path: 'registration',\n    component: RegistrationComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  },\n  {\n    path: 'login',\n    component: LoginComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  },\n  {\n    path: 'dashboard',\n    component: DashboardComponent,\n    data: {\n      layout: LAYOUT.MAIN\n    }\n  },\n];\n","<div class=\"app-alerts-list\">\n  <div *ngFor=\"let alert of alerts | keyvalue\">\n    <div\n      [ngClass]=\"{\n        'app-alert-success': alert.value.type === ALERT_TYPES.SUCCESS,\n        'app-alert-danger': alert.value.type === ALERT_TYPES.DANGER,\n        'app-alert-error': alert.value.type === ALERT_TYPES.ERROR\n      }\"\n      class=\"app-alert app-fade-out\"\n    >\n\n      <span class=\"app-close\" (click)=\"handleClose(alert.key)\">+</span>\n      <h5 class=\"app-alert-header\">Увага!</h5>\n      <div class=\"app-alert-content\">{{ alert.value.text }}</div>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit, Injectable, ChangeDetectorRef, ChangeDetectionStrategy, OnChanges, SimpleChange, SimpleChanges, AfterViewInit } from '@angular/core';\nimport { ALERT_TYPES } from 'src/app/shared/enums/alert-types.enum';\nimport { AlertService } from 'src/app/shared/services/alert.service';\nimport { delay, map } from 'rxjs/operators';\nimport { Alert } from 'src/app/shared/models/alert.model';\n\n@Component({\n  selector: 'app-alerts-list',\n  templateUrl: './alerts-list.component.html',\n  styleUrls: ['./alerts-list.component.scss'],\n})\n\nexport class AlertsListComponent implements OnInit {\n  alerts: Map<number, Alert> = new Map();\n  ALERT_TYPES = ALERT_TYPES;\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private alertService: AlertService,\n    ) {}\n\n  ngOnInit(): void {\n    this.alertService.alerts\n      .pipe(\n        map((alert: Alert) => {\n          const key = (new Date()).getTime();\n          this.alerts.set(key, alert);\n          this.changeDetector.detectChanges();\n          return key;\n        }),\n        delay(5000),\n      ).subscribe(this.handleClose.bind(this));\n  }\n\n  handleClose(key: number) {\n    this.alerts.delete(key);\n    this.changeDetector.detectChanges();\n  }\n}\n","<div class=\"app-file-upload\">\n  <div class=\"app-file-upload-item\" *ngFor=\"let file of files; let i = index;\">\n    <div class=\"row\">\n      <div class=\"col-10\">\n        <em class=\"fa fa-lg fa-file-text-o\"></em>&nbsp;\n        <span *ngIf=\"!file.key\">{{file.name}}</span>\n        <a \n          *ngIf=\"file.key\"\n          class=\"btn btn-link\"\n          rel=\"noopener\"\n          target=\"_blank\"\n          [href]=\"'/api/files?key=' + file.key + (accessToken ? ('?access_token=' + accessToken) : '')\"\n        >\n          {{file.name}}&nbsp;\n          <em class=\"fa fa-lg fa-eye\"></em>\n        </a>\n      </div>\n      <div class=\"col-2 text-right app-file-upload-item-delete\" (click)=\"handleFileDelete(i)\">\n        <em class=\"fa fa-lg fa-times-circle\"></em>\n      </div>\n    </div>\n  </div>\n  <label [ngClass]=\"{ required: required }\">{{message}}</label>\n  <label\n    for=\"{{fileUploadId}}\"\n    class=\"app-file-upload-dropzone\"\n    [ngClass]=\"{ dragover: dragOverCounter > 0, error: !!fileUploadError }\"\n  >\n    <div *ngIf=\"!fileUploadError\">\n      <em class=\"fa fa-lg fa-paperclip\"></em>&nbsp;\n      <span>{{dragzone}}</span>\n    </div>\n    <div *ngIf=\"!!fileUploadError\">\n      <em class=\"fa fa-lg fa-times\"></em>&nbsp;\n      <span>{{fileUploadError}}</span>\n    </div>\n  </label>\n  <small>Note: Allowed extensions are {{ allowedExtensions.join(' ') }} and file size up to {{5}} MB</small>\n  <input\n    #fileUpload\n    [attr.multiple]=\"multiple || null\"\n    (change)=\"handleFileDrop($event.target.files)\"\n    id=\"{{fileUploadId}}\"\n    type=\"file\"\n  />\n</div>\n","import {Component, ElementRef, forwardRef, HostListener, OnInit, ViewChild, Input} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport * as _ from 'lodash';\n\n@Component({\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => FileUploadComponent),\n    multi: true\n  }],\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.scss']\n})\nexport class FileUploadComponent implements ControlValueAccessor, OnInit {\n  @ViewChild('fileUpload', { static: true }) fileUpload: ElementRef<HTMLInputElement>;\n  @Input() errorFileSizeMessage = 'The file you are trying to upload is too large.';\n  @Input() errorFileExtensionMessage = 'The file format is not allowed.';\n  @Input() errorFileNumberMessage = 'You exceed the allowed number of attachments.';\n  @Input() allowedExtensions = ['png', 'jpeg', 'jpg'];\n  @Input() dragzone: string;\n  @Input() maxSize = 5242880;\n  @Input() message: string;\n  @Input() multiple = false;\n  @Input() fileMaximumNumber: number;\n\n  // BYTES_IN_MEGABYTE = BYTES_IN_MEGABYTE;\n\n  // https://stackoverflow.com/a/21002544\n  accessToken: string;\n  dragOverCounter = 0;\n  fileUploadError: string;\n  fileUploadId: string;\n  files: File[] = [];\n  onChange: (data: any) => void;\n\n  constructor(\n    private elementRef: ElementRef,\n  ) {}\n\n  ngOnInit() {\n    this.fileUploadId = _.uniqueId('file-upload-');\n  }\n\n  @HostListener('dragover', ['$event'])\n  handleDragOver(e: any) {\n    // Default browser handler has to be prevented for this event.\n    // Otherwise browser will try to open a file once `drop` happens.\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  @HostListener('dragenter', ['$event'])\n  handleDragEnter(e: any) {\n    e.preventDefault();\n    e.stopPropagation();\n    ++this.dragOverCounter;\n  }\n\n  @HostListener('dragleave', ['$event'])\n  handleDragLeave(e: any) {\n    e.preventDefault();\n    e.stopPropagation();\n    --this.dragOverCounter;\n  }\n\n  @HostListener('drop', ['$event'])\n  handleDrop(e: any) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.dragOverCounter = 0;\n    this.handleFileDrop(e.dataTransfer.files);\n  }\n\n  get required() {\n    return this.elementRef.nativeElement.hasAttribute('required');\n  }\n\n  handleFileDrop(files: FileList) {\n    if (!files || !files.length) {\n      return;\n    }\n\n    if ((this.files.length + files.length) > this.fileMaximumNumber) {\n      this.fileUploadError = this.errorFileNumberMessage;\n      return;\n    }\n\n    this.fileUploadError = null;\n\n    for (let i = 0; i < files.length; ++i) {\n      const file = files.item(i);\n\n      if (file.size > this.maxSize) {\n        this.fileUploadError = this.errorFileSizeMessage;\n        return;\n      }\n\n      if (this.allowedExtensions.every((e: string) => !file.name.toLowerCase().endsWith(`.${e.toLowerCase()}`))) {\n        this.fileUploadError = this.errorFileExtensionMessage;\n        return;\n      }\n    }\n\n    if (this.multiple) {\n      this.files = this.files.concat(Array.from(files));\n    } else {\n      this.files = [files[0]];\n    }\n\n    this.emitFilesChanged();\n  }\n\n  handleFileDelete(index: number) {\n    // Timeout is required to run this code after the previous event is finished\n    setTimeout(() => {\n      this.fileUpload.nativeElement.value = '';\n      this.files.splice(index, 1);\n      this.emitFilesChanged();\n    }, 0);\n  }\n\n  emitFilesChanged() {\n    if (!this.onChange) {\n      return;\n    }\n\n    if (!this.multiple) {\n      this.onChange(this.files[0]);\n    } else {\n      this.onChange(this.files);\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {}\n\n  writeValue(files: any) {\n    if (!files) {\n      files = [];\n    } else if (!Array.isArray(files)) {\n      files = [files];\n    }\n\n    this.files = files;\n  }\n}\n","<small *ngFor=\"let error of errors\" class=\"form-text text-danger\">{{getErrorMessage(error)}}</small>\n","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {NgForm} from '@angular/forms';\nimport {Subscription} from 'rxjs';\n\nconst ERROR_MESSAGES_MAP = {\n  app_integer: 'Number must be the integer',\n  app_whitespace: 'Field can not contain only spaces',\n  email: 'Невірний email',\n  fileextension: 'File extension is not supported',\n  filesize: 'File size is too big',\n  format: 'Wrong date format',\n  hijridate: 'Please enter a valid date',\n  max: 'Max acceptable value is {{max}}',\n  maxlength: 'Максимум {{requiredLength}} символів',\n  min: 'Min acceptable value is {{max}}',\n  minlength: 'Мінімум {{requiredLength}} символів',\n  pattern: 'Wrong input format',\n  required: 'Поле обов\\'язкове до заповнення',\n};\n\n@Component({\n  selector: 'app-form-control-errors',\n  templateUrl: './form-control-errors.component.html',\n})\nexport class FormControlErrorsComponent implements OnInit, OnDestroy {\n  @Input() controlName: Array<string | number> | string;\n  @Input() customMessageKeys: object = {};\n  @Input() ngForm: NgForm;\n\n  errors: any[] = [];\n  subscriptions: Subscription[];\n\n  constructor(\n  ) {}\n\n  get formControl() {\n    return this.ngForm.form.get(this.controlName);\n  }\n\n  ngOnInit() {\n    this.subscriptions = [\n      this.ngForm.ngSubmit.subscribe(this.buildErrors.bind(this)),\n      this.formControl.statusChanges.subscribe(this.buildErrors.bind(this))\n    ];\n  }\n\n  ngOnDestroy() {\n    if (this.subscriptions) {\n      this.subscriptions.forEach((s: Subscription) => s.unsubscribe());\n    }\n  }\n\n  buildErrors() {\n    if (this.errors.length) {\n      this.errors = [];\n    }\n\n    if (this.formControl.dirty && this.formControl.touched || this.ngForm.submitted) {\n      this.errors = Object.keys(this.formControl.errors || {});\n    }\n  }\n\n  getErrorMessage(error: string) {\n    if (error === 'minlength' || error === 'maxlength') {\n      return ERROR_MESSAGES_MAP[error].replace('{{requiredLength}}', this.formControl.errors[error].requiredLength);\n    }\n    return this.customMessageKeys[error] || ERROR_MESSAGES_MAP[error];\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-generated-content',\n  templateUrl: './generated-content.component.html',\n  styleUrls: ['./generated-content.component.scss']\n})\nexport class GeneratedContentComponent implements OnInit {\n  @Input() content: string = '';\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n}\n","<div [innerHTML]=\"content | safeHtml\"></div>\n<div style=\"clear: both\"></div>\n","import { Directive, ElementRef, OnInit, Input } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Directive({\n  selector: '[appServerSrc]'\n})\nexport class ServerSrcDirective implements OnInit {\n  @Input('appServerSrc') src: string;\n  constructor(private el: ElementRef) { }\n  serverUrl = environment.serverUrl;\n\n  ngOnInit() {\n    this.el.nativeElement.src = `${environment.serverUrl}${this.src}`;\n  }\n}\n","export enum ALERT_TYPES {\n  SUCCESS = 'SUCCESS',\n  DANGER = 'DANGER',\n  ERROR = 'ERROR'\n}\n","import {ErrorHandler, Injectable} from '@angular/core';\nimport { AlertService } from 'src/app/shared/services/alert.service';\nimport { ALERT_TYPES } from 'src/app/shared/enums/alert-types.enum';\n\ninterface Message {\n  error: string;\n  title?: string;\n}\n\n@Injectable()\nexport class GlobalErrorHandler extends ErrorHandler {\n\n  constructor(\n    private alertService: AlertService,\n  ) {\n    super();\n  }\n\n  handleError(error: any) {\n    const messages = this.getErrorMessages(error);\n    messages.forEach((message: Message) => {\n      this.alertService.showAlert(ALERT_TYPES.ERROR, message.error);\n    });\n\n    // delegate to the default handler\n    super.handleError(error);\n  }\n\n  getErrorMessages(error: any): Message[] {\n    console.log(error);\n    if (!error) {\n      return [{ error: 'Sorry, unknown error has occurred :(' }];\n    }\n\n    if (error.error?.msg) {\n      return [{ error: error.error.msg }];\n    }\n\n    if (error.message) {\n      return [{ error: error.message }];\n    }\n  }\n}\n","import { DomSanitizer } from '@angular/platform-browser'\nimport { PipeTransform, Pipe } from \"@angular/core\";\n\n@Pipe({ name: 'safeHtml'})\nexport class SafeHtmlPipe implements PipeTransform  {\n  constructor(private sanitized: DomSanitizer) {}\n  transform(value) {\n    return this.sanitized.bypassSecurityTrustHtml(value);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { Alert } from 'src/app/shared/models/alert.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertService {\n  alerts: Subject<Alert> = new Subject();\n\n  constructor() {}\n\n  showAlert(type, text) {\n    this.alerts.next({ type, text });\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SafeHtmlPipe } from 'src/app/shared/pipes/safe-html/safe-html.pipe';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule } from '@angular/router';\nimport { AlertsListComponent } from 'src/app/shared/components/alerts-list/alerts-list.component';\nimport { FormControlErrorsComponent } from 'src/app/shared/components/form-control-errors/form-control-errors.component';\nimport { GeneratedContentComponent } from 'src/app/shared/components/generated-content/generated-content.component';\nimport { FileUploadComponent } from 'src/app/shared/components/file-upload/file-upload.component';\nimport { ServerSrcDirective } from 'src/app/shared/directives/server-src.directive';\n\n\n@NgModule({\n  declarations: [\n    AlertsListComponent,\n    FormControlErrorsComponent,\n    GeneratedContentComponent,\n    SafeHtmlPipe,\n    FileUploadComponent,\n    ServerSrcDirective\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n  ],\n  exports: [\n    AlertsListComponent,\n    FormControlErrorsComponent,\n    GeneratedContentComponent,\n    SafeHtmlPipe,\n    FileUploadComponent,\n    ServerSrcDirective\n  ],\n  providers: [\n  ]\n})\nexport class SharedModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  serverUrl: 'http://localhost:8080/',\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}